qhttp:请求相应模型。

websocket：实时性协议。属于html5规范。管道式编程。

来自服务端的消息：
{"wholeDate":"1552307930465","date":"2019 3 11 20","minutes":"38","second":"50","temperature":"05","humidity":"51"}
{"xlid":"cxh","xldigitid":123456,"topscore":2000,"topplaytime":"2009-08-20"}；

写了一个bug：
main.jsp中加入了js解析字符串异常；websocket.js引入异常，控制台不打印对象了；实时图表修改未知异常，没有加载失败。

2019年3月14日
爬虫爬取中国农业网：[http://www.agronet.com.cn/News/List_c23994.html](http://www.agronet.com.cn/News/List_c23994.html)的农业专家面对面资讯列表。

筛选：  .arrow_700 dd ul 第一个ul就可以了

**2019年3月18日**

执行查询小时数据均值没有问题

编写查询，查出结果为null；


**2019年3月20日**

解决jsp提取公共部分时的，公共部分的乱码问题。在公共jsp中引入下面的page指令：

~~~
<%@ page contentType="text/html;charset=gb2312"%>
~~~

**2019.3.21**

添加触发器将上位机采集的数据进行了粗粒度化（小时为单位，粗粒度采用每小时的最小秒的数值作为粗粒度数据），添加唯一键约束保证每小时存储一条记录。

**2019年3月24日**
数据查询的请求参数json：{'site':site, 'starttime':starttime, 'endtime':endtime}

**2019年3月25日**

近日遇到的坑。mybatis写SQL不定字符串类型参数使用 #{参数} ，而对于表名等非字符串的数据应该使用 ${参数}。

数据查询的对象：
~~~
[{date: "2019032023", temperature: "31", humidity: "12"},{date: "2019032400", temperature: "14", humidity: "11"},{date: "2019032423", temperature: "34", humidity: "82"}]
~~~

**2019年3月26日**

完成数据查询的基本功能，使用jquery ajax获取数据，data对象中取值并通过jquery写入标签+值。

查询功能还需要做的：分页查询功能、模糊查询功能（不输入关键字，筛选条件未填写时查询所有结果，包括所有事件段和所有的表）

今日计划开启数据分析模块的开发，最初的开发思路如下：

基本功能：  温度数据分析 、 湿度数据分析  。

分析方式执行流程：

1.选择查询的站点，我们采用下拉菜单的形式，选项来自数据库。

2.时间段：选择起始时间和终止时间进行分析。


3.门限分析：我们给数据设置最少两个门限：

①最低门限和最高门限，这样将数据分成了三大区域，对于区域的显示我们采用**饼图**处理。

②我们**可以**使用折线图辅助分析门限问题；

[坐标轴标签旋转的柱状图](https://www.highcharts.com.cn/demo/highcharts/column-rotated-labels)  这个可以用来统计哪个数据的值最大

[包含图例的饼图](https://www.highcharts.com.cn/demo/highcharts/pie-legend/dark-unica) 这个可以用来直观显示门限的比例

[双坐标的折线图、柱状图混合图](https://www.highcharts.com.cn/demo/highcharts/combo-dual-axes/dark-unica)这个可以展示温湿度之间的关系

[显示点值的折线图](https://www.highcharts.com.cn/demo/highcharts/line-labels/dark-unica)最基础的折线图。加上门限做第一个图

